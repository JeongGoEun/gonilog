---
title: '[React] Recoil ì´ë€?'
category: 'react'
updated: '2022-11-17'
---

# Recoilì´ë€?

> ğŸ‘‰ Reactë¥¼ ìœ„í•œ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

## Atom

> ìƒíƒœ(state)ì˜ ì¼ë¶€ë¥¼ ë‚˜íƒ€ëƒ„
> ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì—ì„œë‚˜ ì½ê³  ì“¸ ìˆ˜ ìˆìŒ
> atom ê°’ì„ ì½ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì€ **ì•”ë¬µì ìœ¼ë¡œ atomì„** **êµ¬ë…**í•œë‹¤.

    - **ë³€í™”ë¥¼ ê°ì§€**í•˜ë©´, atomì„ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë“¤ì´ **rerendering**

### atom ì„ ì–¸

```tsx
const textState = atom<T>({
  key: 'unique key',
  default: '',
})
```

### atom ì‚¬ìš©

```tsx
function TextInput() {
	// ~ useRecoilValue(atom key value | selector)
	const [text, setText] = useRecoilValue(unique_key);
	const onChange = (e) => setText(e.target.value);

	return ({
		<div>
			<input type="text" value={text} onChange={onChange}/>
			Echo: {text}
		</div>
	});
}
```

## Selector

> íŒŒìƒëœ ìƒíƒœ(derived state)ì˜ ì¼ë¶€ë¥¼ ë‚˜íƒ€ëƒ„
> íŒŒìƒëœ ìƒíƒœëŠ” **ìƒíƒœì˜ ë³€í™”**
> ìƒíƒœì˜ ë³€í™”ì— ë”°ë¼ ì›í•˜ëŠ” í¬ë§·ì„ ì„¤ì •í•˜ì—¬ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ
> ì¼ë¶€ë§Œ ì“°ê¸° ê°€ëŠ¥í•œ ìƒíƒœ(getê³¼ set ì†ì„±ì„ ë‘˜ë‹¤ ê°€ì§€ê³  ìˆìŒ)

### selector ì„ ì–¸ ë° í™œìš©

```tsx
const charCountState = selector({
  key: 'charCountState',
  get: ({ get }) => {
    // ~ get(atom key value)
    const text = get(unique_key) // í•´ë‹¹ recoil valueë¥¼ ê°€ì ¸ì˜´
    return text.length
  },
})

function CharCounter() {
  const count = useRecoilValue(charCountState)
  return <>Char count: {count} </>
}
```

<hr></hr>

# Hooks

### useRecoilValue(key)

> atomì˜ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” hook(getter)

```tsx
const todoListState = atom({
  key: 'todoListState',
  default: [],
})

function TodoList() {
  const todoList = useRecoilValue(todoListState)

  return <> ... </>
}
```

### useSetRecoilState(key)

> atomì˜ ê°’ ì—…ë°ì´íŠ¸(setter)
> ë¦¬ìŠ¤íŠ¸ì¼ê²½ìš° **updater í˜•ì‹**ì„ ì‚¬ìš©í•˜ëŠ”ì ì— ìœ ì˜

```tsx
const setTodoList = useSetRecoilState(todoListState)

setTodoList(oldTodoList => [...oldTodoList, { newListItem }])
```
